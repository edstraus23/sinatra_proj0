<html><title>HTML to DITA</title><body><h1>HTML to DITA</h1>
<p>There are two perl scripts for converting html files to DITA:</p><ul><li>h2d_all.pl: perl h2d_all.pl concept<br/></li><li>h2d.pl: perl h2d.pl concept misc_event</li></ul><pre># ARGV[0] = infotype<br/></pre><pre># ARGV[1] = output file name<br/></pre><pre>$list = `ls ~/sinatra/public/htm`;<br/></pre><pre>@s_list = split(/\n/, $list);<br/></pre><pre>for (my $i = 0; $i &lt; @s_list; $i++) { # begin for loop<br/></pre><pre> if ($s_list[$i] =~/.htm$/) { # begin if<br/></pre><pre>  $arg_out = $s_list[$i]; <br/></pre><pre>  $arg_out =~ s/.htm$//; <br/></pre><pre>  print "transforming $s_list[$i]\n";<br/></pre><pre>  `java -jar lib/saxon/saxon9.jar ~/sinatra/public/htm/$arg_out.htm plugins/h2d/h2d.xsl infotype=$ARGV[0] &gt; temp.xml`;<br/></pre><pre>   if ($ARGV[0] =~/reference/) { <br/></pre><pre>    $fileout = "samples/references/$arg_out.xml"; <br/></pre><pre>    $pub = "DITA Reference"; <br/></pre><pre>    $sys = "dtd\/reference.dtd";<br/></pre><pre>   } elsif ($ARGV[0] =~/concept/) { <br/></pre><pre>     $fileout = "samples/concepts/$arg_out.xml"; <br/></pre><pre>     $pub = "DITA Concept"; <br/></pre><pre>     $sys = "dtd\/concept.dtd";<br/></pre><pre>   } elsif ($ARGV[0] =~/task/) { <br/></pre><pre>     $fileout = "samples/tasks/$arg_out.xml"; <br/></pre><pre>     $pub = "DITA Task"; $sys = "dtd\/task.dtd";<br/></pre><pre>   }<br/></pre><pre>   open FILE, "&gt;$fileout" or die $!;<br/></pre><pre>   open FILE1, "temp.xml" or die $!;<br/></pre><pre>   while (my $line = &lt;file1&gt;) { <br/></pre><pre>    $line =~ s/DITA Topic/$pub/; <br/></pre><pre>    $line =~ s/dtd\/topic.dtd/$sys/; <br/></pre><pre>    print FILE $line;<br/></pre><pre>   } <br/></pre><pre> } # end if<br/></pre><pre>} # end for loop<br/></pre><pre>close FILE1;<br/></pre><pre>close FILE;</pre>
</body></html>